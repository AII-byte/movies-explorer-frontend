(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/header__logo.abd83edb.svg"},24:function(e,t,a){e.exports=a.p+"static/media/account__icon.129ae577.svg"},25:function(e,t,a){e.exports=a.p+"static/media/landing__logo.c0a9c602.svg"},26:function(e,t,a){e.exports=a.p+"static/media/profilePhoto.eaea8490.jpg"},27:function(e,t,a){e.exports=a.p+"static/media/searchIcon_2.792ed529.svg"},28:function(e,t,a){e.exports=a.p+"static/media/searchIcon.b4d25200.svg"},31:function(e,t,a){e.exports=a(77)},36:function(e,t,a){},5:function(e,t){e.exports={authorizationError:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0435 \u043f\u0440\u043e\u0448\u043b\u0430",movieCannotFoundViaId:"\u0424\u0438\u043b\u044c\u043c \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c ID \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d",movieIncorrectData:"\u041f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",movieCreationIncorrectData:"\u041f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0444\u0438\u043b\u044c\u043c\u0430",movieIdConflict:"\u0424\u0438\u043b\u044c\u043c \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c movieId \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442",movieProhibitedDelete:"\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0447\u0443\u0436\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u044b",movieDeleteIncorrectData:"\u041f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0444\u0438\u043b\u044c\u043c\u0430",movieInvalidPhotoLink:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e",movieInvalidTrailerLink:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u0442\u0440\u0435\u0439\u043b\u0435\u0440",movieInvalidthumbnailLink:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u043f\u0440\u0435\u0432\u044c\u044e-\u0444\u043e\u0442\u043e \u0444\u0438\u043b\u044c\u043c\u0430",moviesServerError:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437",movieServerNothingFound:"\u041f\u043e \u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",movieNotSaved:"\u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u043c",movieNotShortFilm:"\u0421\u0440\u0435\u0434\u0438 \u0444\u0438\u043b\u044c\u043c\u043e\u0432 \u043d\u0435\u0442 \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u0435\u043a",userLogin:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u043b\u043e\u0433\u0438\u043d\u0435\u043d",userLogout:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0432\u044b\u0448\u0435\u043b",userCreateIncorrectData:"\u041f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",userEmailConflict:"\u0414\u0430\u043d\u043d\u044b\u0439 email \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u0440\u0443\u0433\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c",userEmailIncorrect:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 email \u0430\u0434\u0440\u0435\u0441\u0430",userLoginError:"\u041f\u0430\u0440\u043e\u043b\u044c \u0438\u043b\u0438 email \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u043e",userCannotFoundViaId:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c ID \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d",userDataUpdateSuccess:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b",userIncorrectUpdateInfo:"\u041f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435",cookieDelete:"Cookie \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u044b",serverError:"\u041d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",urlIncorrect:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0441\u0441\u044b\u043b\u043a\u0438",validatorCheckLangRu:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0440\u0443\u0441\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b",validatorCheckLangEng:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b",pageCannotFound:"\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0440\u0435\u0441\u0443\u0440\u0441 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"}},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),l=a.n(o),c=(a(36),a(12)),s=a(29),i=a(2),m=a(1),u=a(14),_=a(15),b=new(function(){function e(t){var a=this,n=t.baseUrl,r=t.header;Object(u.a)(this,e),this.register=function(e,t,n){return fetch("".concat(a._baseUrl,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:n})}).then(function(e){return a._getResponseData(e)})},this.login=function(e,t){return fetch("".concat(a._baseUrl,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(function(e){return a._getResponseData(e)})},this.getUser=function(e){return fetch("".concat(a._baseUrl,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(function(e){return a._getResponseData(e)})},this.editUserBio=function(e){var t=e.name,n=e.email,r=localStorage.getItem("jwt");return fetch("".concat(a._baseUrl,"/users/me"),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({email:n,name:t})}).then(function(e){return a._getResponseData(e)})},this.createMovie=function(e){var t=localStorage.getItem("jwt");return fetch("".concat(a._baseUrl,"/movies"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({country:e.country,director:e.director,duration:e.duration,year:e.year,description:e.description,image:e.image,trailer:e.trailer,thumbnail:e.thumbnail,movieId:e.movieId,nameRU:e.nameRU,nameEN:e.nameEN})}).then(function(e){return a._getResponseData(e)})},this.getUserMovies=function(){var e=localStorage.getItem("jwt");return fetch("".concat(a._baseUrl,"/movies"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(function(e){return a._getResponseData(e)})},this._baseUrl=n,this._header=r}return Object(_.a)(e,[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("".concat(e.status))}},{key:"getData",value:function(){return Promise.all([this.getUserData(),this.getSavedMovies()])}},{key:"deleteMovie",value:function(e){var t=this,a=localStorage.getItem("jwt");return fetch("".concat(this._baseUrl,"/movies/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)}}).then(function(e){return t._getResponseData(e)})}}]),e}())({baseUrl:"http://api.aii.nomoredomains.work",header:{"Content-Type":"application/json"}}),f=new(function(){function e(t){Object(u.a)(this,e),this._url=t.baseUrl}return Object(_.a)(e,[{key:"getFilms",value:function(){return fetch("".concat(this._url)).then(this._getResponseData)}},{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status)))}}]),e}())({baseUrl:"https://api.nomoreparties.co/beatfilm-movies"}),d=r.a.createContext(null),p=a(30),g=function(e){var t=e.component,a=Object(p.a)(e,["component"]);return r.a.createElement(m.b,null,r.a.createElement(r.a.Fragment,null,a.loggedIn?r.a.createElement(t,a):r.a.createElement(m.a,{to:"/"})))},h=a(3),E=a(10),v=a.n(E);var N=function(){var e=Object(m.h)(),t=Object(n.useState)(""),a=Object(i.a)(t,1)[0],o=Object(n.useState)(""),l=Object(i.a)(o,2),c=l[0],s=l[1];return Object(n.useEffect)(function(){"/"===e.pathname?s("#FFFFFF"):s("#000000")},[e.pathname,a]),r.a.createElement("nav",{className:"header__button"},r.a.createElement("button",{className:"button header__button_register"},r.a.createElement(h.b,{to:"/signup",style:{color:c},className:"header__button-text header__button-text_color button "},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),r.a.createElement(h.b,{to:"/signin",className:"header__button_login header__button-text"},r.a.createElement("button",{className:"button header__button_login header__button-text"},"\u0412\u043e\u0439\u0442\u0438")))},S=a(24),j=a.n(S);var k=function(e){var t=e.onClose,a=Object(m.h)(),o=Object(n.useState)(""),l=Object(i.a)(o,2),c=l[0],s=l[1],u=Object(n.useState)(""),_=Object(i.a)(u,2),b=_[0],f=_[1];return Object(n.useEffect)(function(){"/"===a.pathname?(s("#073042"),f("#FFFFFF")):(s("#FFFFFF"),f("#000000"))},[a.pathname,c]),r.a.createElement("div",{className:"navigation"},r.a.createElement("ul",{className:"navigation__list",style:{backgroundColor:c}},r.a.createElement("li",{className:"navigation__list-item"},r.a.createElement(h.c,{exact:!0,to:"/",className:"navigation__link",activeClassName:"navigation__link_active",style:{color:b},onClick:t},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),r.a.createElement("li",{className:"navigation__list-item"},r.a.createElement(h.c,{to:"/movies",className:"navigation__link",activeClassName:"navigation__link_active",style:{color:b},onClick:t},"\u0424\u0438\u043b\u044c\u043c\u044b")),r.a.createElement("li",{className:"navigation__list-item"},r.a.createElement(h.c,{to:"/saved-movies",className:"navigation__link modal__link_active",activeClassName:"navigation__link_active",style:{color:b},onClick:t},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b")),r.a.createElement("li",{className:"navigation__list-item"},r.a.createElement(h.c,{to:"/users/me",className:"navigation__link_account",activeClassName:"navigation__link_active",style:{color:b},onClick:t},"\u0410\u043a\u043a\u0430\u0443\u043d\u0442",r.a.createElement("img",{className:"navigation__account",src:j.a,alt:"\u0438\u043a\u043e\u043d\u043a\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"})))))};var O=function(){var e=Object(m.h)(),t=Object(n.useState)(""),a=Object(i.a)(t,2),o=a[0],l=a[1],c=Object(n.useRef)();return Object(n.useEffect)(function(){"/"===e.pathname?l("#FFFFFF"):l("#000000")},[e.pathname,o]),r.a.createElement("nav",{className:"burger"},r.a.createElement("input",{className:"burger__btn",type:"checkbox",id:"burger-btn",ref:c}),r.a.createElement("label",{className:"burger__container",htmlFor:"burger-btn"},r.a.createElement("span",{className:"burger__icon",style:{backgroundColor:o}})),r.a.createElement(k,{onClose:function(){c.current.checked=!1}}))};var C=function(e){var t=e.loggedIn,a=Object(m.h)(),o=Object(n.useState)(""),l=Object(i.a)(o,2),c=l[0],s=l[1];return Object(n.useEffect)(function(){"/"===a.pathname?s("#073042"):s("#FFFFFF")},[a.pathname,c]),r.a.createElement("header",{className:"header",style:{backgroundColor:c}},r.a.createElement(h.b,{to:"/"},r.a.createElement("img",{className:"header__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",src:v.a})),t?r.a.createElement(O,null):r.a.createElement(N,null))};var y=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("h2",{className:"footer__header"},"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."),r.a.createElement("div",{className:"footer__container"},r.a.createElement("ul",{className:"footer__links"},r.a.createElement("li",{className:"footer__cell"},r.a.createElement("a",{href:"https://practicum.yandex.ru/",target:"blank",className:"footer__link"},"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c")),r.a.createElement("li",{className:"footer__cell"},r.a.createElement("a",{href:"https://github.com/",target:"blank",className:"footer__link"},"Github")),r.a.createElement("li",{className:"footer__cell"},r.a.createElement("a",{href:"https://www.facebook.com/",target:"blank",className:"footer__link"},"Facebook"))),r.a.createElement("p",{className:"footer__year"},"\xa9",(new Date).getFullYear())))},I=a(25),w=a.n(I);var L=function(){return r.a.createElement("section",{className:"promo"},r.a.createElement("img",{className:"promo__logo",alt:"\u043b\u043e\u0433\u043e \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0430",src:w.a}),r.a.createElement("div",{className:"promo__info"},r.a.createElement("h1",{className:"promo__header"},"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431\u2011\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."),r.a.createElement("h2",{className:"promo__sub-header"},"\u041b\u0438\u0441\u0442\u0430\u0439\u0442\u0435 \u043d\u0438\u0436\u0435, \u0447\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043f\u0440\u043e \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442 \u0438 \u0435\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044f."),r.a.createElement("button",{className:"button promo__button promo__button-text"},r.a.createElement("a",{href:"https://practicum.yandex.ru/web/",target:"blank",className:"promo__link"},"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435"))))};var D=function(){return r.a.createElement("section",{className:"about-project"},r.a.createElement("h2",{className:"main__header"},"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"),r.a.createElement("ul",{className:"table table__about-project"},r.a.createElement("li",{className:"table__about-project-list"},r.a.createElement("h3",{className:"table__heading"},"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"),r.a.createElement("p",{className:"table__text"},"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438.")),r.a.createElement("li",{className:"table__about-project-list"},r.a.createElement("h3",{className:"table__heading"},"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"),r.a.createElement("p",{className:"table__text"},"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."))),r.a.createElement("div",{className:"timeline"},r.a.createElement("div",{className:"timeline__first"},r.a.createElement("p",{className:"timeline__info timeline__info_choose"},"1 \u043d\u0435\u0434\u0435\u043b\u044f"),r.a.createElement("span",{className:"timeline__legend"},"Back-end")),r.a.createElement("div",{className:"timeline__second"},r.a.createElement("p",{className:"timeline__info"},"4 \u043d\u0435\u0434\u0435\u043b\u0438"),r.a.createElement("span",{className:"timeline__legend"},"Front-end"))))};var F=function(){return r.a.createElement("section",{className:"techs"},r.a.createElement("h2",{className:"main__header"},"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"),r.a.createElement("h3",{className:"techs__header"},"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"),r.a.createElement("p",{className:"techs__subheader"},"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."),r.a.createElement("ul",{className:"table table__techs"},r.a.createElement("li",{className:"table__techs-list"},"HTML"),r.a.createElement("li",{className:"table__techs-list"},"CSS"),r.a.createElement("li",{className:"table__techs-list"},"JS"),r.a.createElement("li",{className:"table__techs-list"},"React"),r.a.createElement("li",{className:"table__techs-list"},"Git"),r.a.createElement("li",{className:"table__techs-list"},"Express.js"),r.a.createElement("li",{className:"table__techs-list"},"mongoDB")))},x=a(26),U=a.n(x);var M=function(){return r.a.createElement("section",{className:"about-me"},r.a.createElement("h2",{className:"main__header"},"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"),r.a.createElement("div",{className:"about-me__container"},r.a.createElement("img",{src:U.a,alt:"\u0424\u043e\u0442\u043e\u0447\u043a\u0430 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430",className:"about-me__photo"}),r.a.createElement("div",{className:"about-me__info"},r.a.createElement("h2",{className:"about-me__title"},"\u0412\u0438\u0442\u0430\u043b\u0438\u0439"),r.a.createElement("p",{className:"about-me__author"},"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434\u2011\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 30 \u043b\u0435\u0442"),r.a.createElement("blockquote",{className:"about-me__quote"},"\u042f \u0440\u043e\u0434\u0438\u043b\u0441\u044f \u0438 \u0436\u0438\u0432\u0443 \u0432 \u0421\u0430\u0440\u0430\u0442\u043e\u0432\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0438 \u0421\u0413\u0423. \u0423 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c \u0436\u0435\u043d\u0430 \u0438 \u0434\u043e\u0447\u044c. \u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2015 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xab\u0421\u041a\u0411 \u041a\u043e\u043d\u0442\u0443\u0440\xbb. \u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043f\u0440\u043e\u0448\u0451\u043b \u043a\u0443\u0440\u0441 \u043f\u043e \u0432\u0435\u0431\u2011\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435, \u043d\u0430\u0447\u0430\u043b \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0444\u0440\u0438\u043b\u0430\u043d\u0441\u2011\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u0443\u0448\u0451\u043b \u0441 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b."),r.a.createElement("ul",{className:"table table__about-me"},r.a.createElement("li",{className:"table__about-me-cell"},r.a.createElement("a",{href:"https://www.facebook.com/",target:"blank",className:"about-me__link"},"Facebook")),r.a.createElement("li",{className:"table__about-me-cell"},r.a.createElement("a",{href:"https://github.com/",target:"blank",className:"about-me__link"},"Github"))))))};var B=function(){return r.a.createElement("section",{className:"portfolio"},r.a.createElement("h3",{className:"portfolio__heading"},"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"),r.a.createElement("ul",{className:"table portfolio__u-list"},r.a.createElement("li",{className:"table__portfolio-cell"},r.a.createElement("a",{href:"https://habr.com/ru/post/453656/",target:"blank",className:"table__portfolio-link"},r.a.createElement("h3",{className:"table__portfolio-list"},"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"),r.a.createElement("p",{className:"table__portfolio-list table__portfolio-list_transform"},"\u2191"))),r.a.createElement("li",{className:"table__portfolio-cell"},r.a.createElement("a",{href:"https://tproger.ru/translations/responsive-web-design-tips/",target:"blank",className:"table__portfolio-link"},r.a.createElement("h3",{className:"table__portfolio-list"},"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"),r.a.createElement("p",{className:"table__portfolio-list table__portfolio-list_transform"},"\u2191"))),r.a.createElement("li",{className:"table__portfolio-cell"},r.a.createElement("a",{href:"https://ru.wikipedia.org/wiki/%D0%9E%D0%B4%D0%BD%D0%BE%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%87%D0%BD%D0%BE%D0%B5_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5",target:"blank",className:"table__portfolio-link"},r.a.createElement("h3",{className:"table__portfolio-list"},"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"),r.a.createElement("p",{className:"table__portfolio-list table__portfolio-list_transform"},"\u2191")))))};var T=function(){return r.a.createElement("div",{className:"main section"},r.a.createElement(L,null),r.a.createElement(D,null),r.a.createElement(F,null),r.a.createElement(M,null),r.a.createElement(B,null))},R=a(13);function z(e){var t=Object(n.useState)(e),a=Object(i.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)({}),s=Object(i.a)(l,2),m=s[0],u=s[1],_=Object(n.useState)(!1),b=Object(i.a)(_,2),f=b[0],d=b[1],p=Object(n.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o(e),u(t),d(a)},[o,u,d]);return{values:r,errors:m,isValid:f,handleChange:function(e){var t=e.target,a=t.name,n="checkbox"===t.type?t.checked:t.value;o(Object(c.a)({},r,Object(R.a)({},a,n))),u(Object(c.a)({},m,Object(R.a)({},a,t.validationMessage))),d(t.closest("form").checkValidity())},resetForm:p}}var P=function(e){var t=e.onRegister,a=e.responseMessage,n=e.isLoading,o=z({}),l=o.values,c=o.handleChange,s=o.errors,i=o.isValid,m=o.resetForm;return r.a.createElement("div",{className:"register"},r.a.createElement(h.b,{to:"/"},r.a.createElement("img",{className:"register__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",src:v.a})),r.a.createElement("form",{className:"form section form__register register__form",onSubmit:function(e){e.preventDefault(),t(l),m()},autoComplete:"on"},r.a.createElement("fieldset",{className:"form__field"},r.a.createElement("legend",{className:"form__header form__header-style"},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"),r.a.createElement("label",{className:"form__label form__label-style"},"\u0418\u043c\u044f"),r.a.createElement("input",{className:"form__input form__user-name",type:"text",id:"name",name:"name",value:l.name||"",autoComplete:"off",required:!0,onChange:c,minLength:2,maxLength:30}),r.a.createElement("span",{className:"section error error__input",id:"user-name-error"},s.name||""),r.a.createElement("label",{className:"form__label form__label-style"},"E-mail"),r.a.createElement("input",{className:"form__input form__user-email",type:"email",id:"email",name:"email",value:l.email||"",autoComplete:"off",required:!0,onChange:c,pattern:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[a-z]{2,})\\b"}),r.a.createElement("span",{className:"section error error__input",id:"user-email-error"},s.email||""),r.a.createElement("label",{className:"form__label form__label-style"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",{className:"form__input form__user-password",type:"password",id:"password",name:"password",value:l.password||"",autoComplete:"off",required:!0,onChange:c,minLength:8}),r.a.createElement("span",{className:"section error error__input",id:"user-password-error"},s.password||"")),r.a.createElement("span",{className:"error section error__form"},a),r.a.createElement("div",{className:"form__buttons"},r.a.createElement("button",{className:"button button__register button__text ".concat((!i||n)&&"button__register_inactive"),type:"submit",disabled:(!i||n)&&!0},n?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f....":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),r.a.createElement("span",{className:"button__register register__text"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?\xa0",r.a.createElement(h.b,{to:"/signin",className:"button__link"},"\u0412\u043e\u0439\u0442\u0438")))))};var A=function(e){var t=e.onLogin,a=e.responseMessage,n=e.isLoading,o=z({}),l=o.values,c=o.errors,s=o.isValid,i=o.handleChange;return r.a.createElement("div",{className:"login"},r.a.createElement(h.b,{to:"/"},r.a.createElement("img",{className:"login__logo",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",src:v.a})),r.a.createElement("form",{className:"form section form__login login__form",onSubmit:function(e){e.preventDefault(),t(l.email,l.password)},autoComplete:"on"},r.a.createElement("fieldset",{className:"form__field"},r.a.createElement("legend",{className:"form__header form__header-style"},"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"),r.a.createElement("label",{className:"form__label form__label-style",htmlFor:"email"},"E-mail"),r.a.createElement("input",{className:"form__input form__user-email",type:"email",name:"email",placeholder:"email",value:l.email||"",autoComplete:"off",required:!0,onChange:i,pattern:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[a-z]{2,})\\b"}),r.a.createElement("span",{className:"section error error__input",id:"user-email-error"},c.email||""),r.a.createElement("label",{className:"form__label form__label-style",htmlFor:"password"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",{className:"form__input form__user-password",type:"password",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:l.password||"",autoComplete:"off",required:!0,onChange:i,minLength:5}),r.a.createElement("span",{className:"section error error__input",id:"user-password-error"},c.password||"")),r.a.createElement("span",{className:"section error error__form"},a),r.a.createElement("div",{className:"form__buttons"},r.a.createElement("button",{className:"button button__login button__text ".concat(!s&&"button__register_inactive"),type:"submit",disabled:!s&&!0},n?"\u0412\u0445\u043e\u0434....":"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement("span",{className:"button__login login__text"},"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?\xa0",r.a.createElement(h.b,{to:"/signup",className:"button__link"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")))))},J=(a(75),a(76),a(27)),q=a.n(J),V=a(28),$=a.n(V);var G=function(e){var t=e.onCheckboxToggle,a=Object(n.useState)(!1),o=Object(i.a)(a,2),l=o[0],c=o[1];return r.a.createElement("div",{className:"filter-checkbox"},r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",className:"checkbox",name:"toggleSwitch",id:"toggleSwitch",checked:l,onChange:function(e){return a=e,t(!l),void c(a.target.checked);var a}}),r.a.createElement("span",{className:"slider"})),r.a.createElement("span",{className:"filter-checkbox__text"},"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"))};var H=function(e){var t=e.handleSearch,a=e.setPreloader,o=e.setIsChecked,l=e.isLoading,c=e.toggleSubmit,s=(e.isSubmitted,e.unToggleSubmit),m=z({}),u=m.values,_=(m.errors,m.isValid,m.handleChange),b=Object(n.useState)(""),f=Object(i.a)(b,2),d=f[0],p=f[1],g=Object(n.useState)(!1),h=Object(i.a)(g,2),E=h[0],v=h[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"search-form",id:"search-form",autoComplete:"off",onSubmit:function(e){e.preventDefault(),""===d?(console.log(d),c()):(t(d),a(!0),s())}},r.a.createElement("img",{src:q.a,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438",className:"search-form__icon"}),r.a.createElement("input",{className:"search-form__input",type:"search",placeholder:"\u0424\u0438\u043b\u044c\u043c",name:"keyword",value:u.keyword||"",onChange:function(e){_(e),p(e.target.value)},autoComplete:"off",maxLength:"300",required:!0,disabled:l}),r.a.createElement("button",{type:"submit",form:"search-form",className:"button search-form__button"},r.a.createElement("img",{src:$.a,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u043a\u043d\u043e\u043f\u043a\u0438 \u043f\u043e\u0438\u0441\u043a\u0430",className:"search-form__button-icon"}))),r.a.createElement(G,{onCheckboxToggle:function(e){v(e),o(!E)}}))};var W=function(e){var t,a=e.movie,n=e.onLikeClick,o=(e.onMovieDelete,e.checkLikeStatus),l=(e.onMovieSave,e.isSavedMovie,e.savedMovies,o(a));function c(){n(a,l)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"movies-card"},r.a.createElement("div",{className:"movies-card__footer"},r.a.createElement("div",{className:"movies-card__info"},r.a.createElement("h2",{className:"movies-card__title"},a.nameRU),r.a.createElement("p",{className:"movies-card__lenght"},(t=a.duration,"".concat(Math.floor(t/60),"\u0447 ").concat(t%60,"\u043c")))),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/movies"},r.a.createElement("button",{type:"button",className:"movies-card__like ".concat(l?"movies-card__like_active":" "),onClick:c})),r.a.createElement(m.b,{path:"/saved-movies"},r.a.createElement("button",{type:"button",className:"movies-card__delete",onClick:c})))),r.a.createElement("a",{href:a.trailer,target:"_self",rel:"noreferrer"},r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/movies"},r.a.createElement("img",{className:"movies-card__image",src:a.image,alt:"\u041f\u043e\u0441\u0442\u0435\u0440 \u0444\u0438\u043b\u044c\u043c\u0430 ".concat(a.nameRU)})),r.a.createElement(m.b,{path:"/saved-movies"},r.a.createElement("img",{className:"movies-card__image",src:a.image,alt:"\u041f\u043e\u0441\u0442\u0435\u0440 \u0444\u0438\u043b\u044c\u043c\u0430 ".concat(a.nameRU)}))))))};var Y=function(e){var t=e.movies,a=e.toggleMovieLike,o=e.checkLikeStatus,l=Object(n.useState)(0),c=Object(i.a)(l,2),s=c[0],m=c[1],u=Object(n.useState)(0),_=Object(i.a)(u,2),b=_[0],f=_[1],d=Object(n.useState)(document.documentElement.clientWidth),p=Object(i.a)(d,2),g=p[0],h=p[1],E=window.location.pathname,v=null,N=function(){v&&clearTimeout(v),v=setTimeout(function(){return h(document.documentElement.clientWidth)},2e3)};return Object(n.useEffect)(function(){return window.addEventListener("resize",N),function(){return window.removeEventListener("resize",N)}}),Object(n.useEffect)(function(){"/movies"===E?g<=760?(m(5),f(5)):g>760&&(m(8),f(8)):(m(t.length),console.log(t.length))},[g,E,t.length]),r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"movies-card-list"},t.slice(0,s).map(function(e){return r.a.createElement(W,{key:e.movieId,movie:e,onLikeClick:a,checkLikeStatus:o})})),t.length>s&&r.a.createElement("div",{className:"more-movies"},r.a.createElement("button",{className:"button more-movies more-movies__button","aria-label":"more movies",onClick:function(){m(s+b)}},"\u0415\u0449\u0451")))};var K=function(){return r.a.createElement("div",{className:"lds-spinner"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))};var Q=function(e){var t=e.errorState,a=e.message;return r.a.createElement("p",{className:"nothing-found"},"".concat(t?"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437":a))},X=a(5),Z=a.n(X);var ee=function(e){var t=e.isLoading,a=e.onSubmitSearch,o=e.movies,l=e.setPreloader,c=e.moviesSearchResponse,s=e.toggleMovieLike,m=e.checkLikeStatus,u=e.sortShortMovies,_=e.toggleSubmit,b=e.isSubmitted,f=e.unToggleSubmit,d=e.errorState,p=Object(n.useState)([]),g=Object(i.a)(p,2),h=g[0],E=g[1],v=Object(n.useState)(!1),N=Object(i.a)(v,2),S=N[0],j=N[1];return Object(n.useEffect)(function(){S&&E(u(o))},[S]),r.a.createElement("div",{className:"main section"},r.a.createElement(H,{handleSearch:a,setPreloader:l,setIsChecked:j,isLoading:t,isSubmitted:b,toggleSubmit:_,unToggleSubmit:f}),r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(K,null),c?0===o.length&&r.a.createElement(Q,{message:Z.a.movieServerNothingFound,errorState:d}):"",S&&0!==o.length&&0===h.length&&r.a.createElement(Q,{message:Z.a.movieNotShortFilm,errorState:d}),0!==o.length&&r.a.createElement(Y,{movies:S?h:o,toggleMovieLike:s,checkLikeStatus:m})))};var te=function(e){e.loggedIn;var t=e.isLoading,a=e.onSubmitSearch,o=e.movies,l=e.setPreloader,c=(e.moviesSearchResponse,e.toggleMovieLike),s=e.checkLikeStatus,m=e.sortShortMovies,u=e.toggleSubmit,_=e.isSubmitted,b=e.unToggleSubmit,f=e.errorState,d=Object(n.useState)([]),p=Object(i.a)(d,2),g=p[0],h=p[1],E=Object(n.useState)(!1),v=Object(i.a)(E,2),N=v[0],S=v[1];return Object(n.useEffect)(function(){N&&h(m(o))},[N]),r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{handleSearch:a,setPreloader:l,setIsChecked:S,isLoading:t,isSubmitted:_,toggleSubmit:u,unToggleSubmit:b}),o&&0!==o.length?r.a.createElement(Y,{movies:N?g:o,toggleMovieLike:c,checkLikeStatus:s,isSavedPage:!0}):r.a.createElement(Q,{message:Z.a.movieNotSaved,errorState:f}))};var ae=function(e){e.loggedIn;var t=e.responseMessage,a=e.onEditProfile,o=e.onLogOut,l=e.isLoading,c=r.a.useContext(d),s=z({email:c.email,name:c.name}),m=s.values,u=s.errors,_=s.isValid,b=s.handleChange,f=Object(n.useState)(!1),p=Object(i.a)(f,2),g=p[0],h=p[1];function E(e){e.preventDefault(),a(m)}return Object(n.useEffect)(function(){c.email===m.email&&c.name===m.name?h(!1):h(!0)},[b]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"profile section"},r.a.createElement("form",{className:"form section profile__form",id:"profile__form",autoComplete:"on",noValidate:!0,onSubmit:E},r.a.createElement("fieldset",{className:"profile__field"},r.a.createElement("legend",{className:"profile__header"},"\u041f\u0440\u0438\u0432\u0435\u0442, ".concat(c.name,"!")),r.a.createElement("div",{className:"profile__input-line"},r.a.createElement("label",{className:"profile__input-label"},"\u0418\u043c\u044f"),r.a.createElement("input",{className:"profile__input",type:"text",name:"name",autoComplete:"off",minLength:2,maxLength:30,value:m.name||"",onChange:b,required:!0})),r.a.createElement("span",{className:"section error error__input",id:"user-name-error"},u.name||""),r.a.createElement("div",{className:"profile__input-line"},r.a.createElement("label",{className:"profile__input-label"},"E-mail"),r.a.createElement("input",{className:"profile__input",type:"email",name:"email",autoComplete:"off",required:!0,onChange:b,value:m.email||"",pattern:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[a-z]{2,})\\b"})),r.a.createElement("span",{className:"section error error__input",id:"user-name-error"},u.email||"")),r.a.createElement("span",{className:"section error error__form"},t),r.a.createElement("div",{className:"form__buttons"},r.a.createElement("button",{type:"submit",form:"profile__form",className:"button button__profile profile__edit-btn ".concat(_&&g&&!l?"":"profile__edit-btn_disable"),onClick:E,disabled:!_&&!g&&!l},l?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435....":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement("button",{type:"button",className:"button button__profile profile__logout-btn",onClick:o},"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430")))))};var ne=function(){var e=Object(m.g)();return r.a.createElement("section",{className:"not-found"},r.a.createElement("h2",{className:"not-found__header"},"404"),r.a.createElement("p",{className:"not-found__text"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"),r.a.createElement("div",{className:"not-found__btn-back-container"},r.a.createElement("button",{className:"button not-found__btn-back",onClick:e.goBack},"\u041d\u0430\u0437\u0430\u0434")))};var re=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(!1),u=Object(i.a)(l,2),_=u[0],p=u[1],h=Object(n.useState)(!1),E=Object(i.a)(h,2),v=E[0],N=E[1],S=Object(n.useState)(""),j=Object(i.a)(S,2),k=j[0],O=j[1],I=Object(n.useState)([]),w=Object(i.a)(I,2),L=w[0],D=w[1],F=Object(n.useState)([]),x=Object(i.a)(F,2),U=x[0],M=x[1],B=Object(n.useState)([]),R=Object(i.a)(B,2),z=R[0],J=R[1],q=Object(n.useState)(""),V=Object(i.a)(q,2),$=V[0],G=V[1],H=Object(n.useState)(""),W=Object(i.a)(H,2),Y=W[0],K=W[1],Q=Object(n.useState)(!1),X=Object(i.a)(Q,2),re=X[0],oe=(X[1],Object(m.g)()),le=Object(m.h)().pathname,ce=Object(n.useState)(!1),se=Object(i.a)(ce,2),ie=se[0],me=se[1],ue=function(){me(!0)},_e=function(){me(!1)};function be(e,t){b.login(e,t).then(function(e){e.token&&(localStorage.setItem("jwt",e.token),p(!0),oe.push("/movies"))}).catch(function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e)),"Error 400"===e&&fe(Z.a.userIncorrectUpdateInfo),"Error 401"===e&&fe(Z.a.userIncorrectUpdateInfo),"Error 500"===e&&fe(Z.a.userIncorrectUpdateInfo)})}function fe(e){O(e),setTimeout(function(){return O("")},8e3)}function de(){N(!0),f.getFilms().then(function(e){var t=e.map(function(e){return{country:e.country||"none",director:e.director,duration:e.duration,year:e.year,description:e.description,image:"https://api.nomoreparties.co".concat(e.image.url)||"",trailer:e.trailerLink,thumbnail:"https://api.nomoreparties.co".concat(e.image.formats.thumbnail.url)||"",movieId:e.id,nameRU:e.nameRU,nameEN:e.nameEN||e.nameRU}});localStorage.setItem("movies",JSON.stringify(t))}).catch(function(e){G(Z.a.moviesServerError),console.log(e)}).finally(function(){N(!1)})}function pe(){b.getUserMovies().then(function(e){J(e)}).catch(function(e){G(Z.a.moviesServerError),console.log(e)})}function ge(e,t){var a=e.filter(function(e){return e.nameRU.toLowerCase().includes(t.toLowerCase())||e.nameEN.toLowerCase().includes(t.toLowerCase())||e.description.toLowerCase().includes(t.toLowerCase())});return 0===a.length&&"/movies"===le&&G(Z.a.movieServerNothingFound),0===a.length&&"/saved-movies"===le&&K(Z.a.movieNotSaved),a}function he(e){return e.filter(function(e){return e.duration<=40})}function Ee(e){return z.some(function(t){return t.movieId===e.movieId})}function ve(e,t){t?function(e){var t=z.find(function(t){return t.movieId===e.movieId})._id;b.deleteMovie(t).then(function(e){pe(),console.log(e.message)}).catch(function(e){return console.log(e)})}(e):function(e){b.createMovie(e).then(function(e){var t=e;J([].concat(Object(s.a)(z),[t])),console.log("addMovie ".concat(e.message))}).catch(function(e){return console.log(e)})}(e)}return Object(n.useEffect)(function(){var e=localStorage.getItem("jwt");e&&Promise.all([b.getUser(e),pe()]).then(function(e){var t=Object(i.a)(e,2),n=t[0];t[1],o(Object(c.a)({},a,{name:n.name,email:n.email}))}).catch(function(e){console.log(e)})},[_]),Object(n.useEffect)(function(){var e=JSON.parse(localStorage.getItem("movies"));if(e){D(e);var t=JSON.parse(localStorage.getItem("searchResult"));t&&M(t)}else de()},[_]),Object(n.useEffect)(function(){!function(){var e=localStorage.getItem("jwt");e&&b.getUser(e).then(function(e){e&&(p(!0),o(e),oe.push(le))}).catch(function(e){console.log(e),localStorage.removeItem("token"),oe.push("/")})}()},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.Provider,{value:a},r.a.createElement("div",{className:"App"},r.a.createElement(m.b,{exact:!0,path:["/","/users/me","/saved-movies","/movies"]},r.a.createElement(C,{loggedIn:_})),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/"},r.a.createElement(T,{loggedIn:_})),r.a.createElement(m.b,{path:"/signup"},_?r.a.createElement(m.a,{to:"/"}):r.a.createElement(P,{onRegister:function(e){var t=e.name,a=e.email,n=e.password;b.register(t,a,n).then(function(e){e&&be(a,n)}).catch(function(e){console.log(e),"Error 400"===e&&fe(Z.a.userIncorrectUpdateInfo),"Error 409"===e&&fe(Z.a.userIncorrectUpdateInfo),"Error 500"===e&&fe(Z.a.userIncorrectUpdateInfo)})},responseMessage:k})),r.a.createElement(m.b,{exact:!0,path:"/signin"},_?r.a.createElement(m.a,{to:"/"}):r.a.createElement(A,{onLogin:be,responseMessage:k,isLoading:v})),r.a.createElement(g,{exact:!0,path:"/users/me",loggedIn:_,component:ae,userData:a,responseMessage:k,onEditProfile:function(e,t){b.editUserBio(e,t).then(function(e){o(e)}).catch(function(e){console.log(e),"Error 400"===e&&fe(Z.a.userIncorrectUpdateInfo),"Error 409"===e&&fe(Z.a.userEmailConflict)})},onLogOut:function(){localStorage.clear(),o({}),p(!1),oe.push("/")},isLoading:v}),r.a.createElement(g,{exact:!0,path:"/movies",component:ee,loggedIn:_,isLoading:v,onSubmitSearch:function(e){de(),setTimeout(function(){return N(!1)},1e3),M(ge(L,e)),localStorage.setItem("searchResult",JSON.stringify(ge(L,e)))},sortShortMovies:he,setPreloader:N,moviesSearchResponse:$,movies:U,toggleMovieLike:ve,checkLikeStatus:Ee,toggleSubmit:ue,isSubmitted:ie,unToggleSubmit:_e,errorState:re}),r.a.createElement(g,{exact:!0,path:"/saved-movies",component:te,loggedIn:_,isLoading:v,onSubmitSearch:function(e){setTimeout(function(){return N(!1)},2e3),J(ge(z,e))},sortShortMovies:he,setPreloader:N,moviesSearchResponse:Y,movies:z,toggleMovieLike:ve,checkLikeStatus:Ee,toggleSubmit:ue,isSubmitted:ie,unToggleSubmit:_e}),r.a.createElement(m.b,{path:"*"},r.a.createElement(ne,null))),r.a.createElement(y,null))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h.a,null,r.a.createElement(re,null))),document.getElementById("root"))}},[[31,2,1]]]);
//# sourceMappingURL=main.ef9930fc.chunk.js.map